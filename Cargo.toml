[workspace]
members = [".", "authenticate", "axum", "core"]
resolver = "2"

[package]
name = "grand-line"
version = "0.0.0"
edition = "2024"

[lib]
name = "grand_line"
path = "lib.rs"

[features]
default = ["postgres", "axum", "authenticate"]
axum = ["_axum"]
authenticate = ["_authenticate"]
# do not re-export dependencies or aliases
no_reexport_dep = []
no_reexport_alias = []
# db
sqlite = ["_core/sqlite"]
mysql = ["_core/mysql"]
postgres = ["_core/postgres"]
# tracing
tracing = ["_core/tracing", "_axum/tracing"]
# debug macro flags
debug_macro_cli = ["_core/debug_macro_cli"]
debug_macro_file = ["_core/debug_macro_file"]
# model flags
no_created_at = ["_core/no_created_at"]
no_updated_at = ["_core/no_updated_at"]
no_deleted_at = ["_core/no_deleted_at"]
no_by_id = ["_core/no_by_id"]
# resolver flags
resolver_inputs = ["_core/resolver_inputs"]
resolver_output = ["_core/resolver_output"]
no_tx = ["_core/no_tx"]
no_ctx = ["_core/no_ctx"]
no_include_deleted = ["_core/no_include_deleted"]
no_permanent_delete = ["_core/no_permanent_delete"]
# limit flags
limit_x2 = ["_core/limit_x2"]
limit_x5 = ["_core/limit_x5"]
limit_x10 = ["_core/limit_x10"]

[dependencies]
_authenticate = { path = "./authenticate", optional = true, default-features = false, features = [] }
_axum = { path = "./axum", optional = true, default-features = false, features = [] }
_core = { path = "./core", default-features = false, features = [] }

[dev-dependencies]
_macro_utils = { path = "./macro_utils", default-features = false, features = [] }
pretty_assertions = { version = "1.4.1", default-features = false, features = ["std"] }
serde = { version = "1.0.228", default-features = false, features = ["derive", "std"] }
thiserror = { version = "2.0.17", default-features = false, features = [] }
